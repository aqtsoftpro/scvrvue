(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{ed7c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("piaf-breadcrumb",{attrs:{heading:t.$t("menu.search")+" : "+t.searchRequest.keyword}}),t._v(" "),a("div",{staticClass:"separator mb-5"})],1)],1),t._v(" "),a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("b-card",{staticClass:"mb-4"},t._l(t.results,(function(e,s){return a("div",{key:s,class:{"mb-3":t.results.length!=s+1}},["vehicle"==t.searchRequest.mode?a("router-link",{staticClass:"w-40 w-sm-100",attrs:{tag:"a",to:{path:"/app/van_management/vehicle_detail/"+e.id}}},[a("img",{attrs:{width:"100",src:e.picture}}),t._v(" "),a("p",{staticClass:"list-item-heading mb-1 color-theme-1"},[t._v(t._s(e.reg_plate_number))]),t._v(" "),a("p",{staticClass:"mb-1 text-muted text-small"},[t._v(t._s(e.vehicle_type)+" | "+t._s(e.make)+" - "+t._s(e.model))]),t._v(" "),a("p",{staticClass:"mb-4 text-muted text-small"},[t._v("Purchase Date: "+t._s(e.purchase_date))])]):a("router-link",{staticClass:"w-40 w-sm-100",attrs:{tag:"a",to:"#"}},[a("p",{staticClass:"list-item-heading mb-1 color-theme-1"},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),t._v(" "),a("p",{staticClass:"mb-1 text-muted text-small"},[t._v(t._s(e.phone_number)+" | "+t._s(e.email))]),t._v(" "),a("p",{staticClass:"mb-4 text-muted text-small"},[t._v("Joined: "+t._s(e.address))])]),t._v(" "),t.results.length!=s+1?a("div",{staticClass:"separator mb-5"}):t._e()],1)})),0)],1)],1)],1)},r=[],i=a("5530"),n=(a("2b47"),a("2f62")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("datatable-heading",{attrs:{changePageSize:t.changePageSize,searchChange:t.searchChange,from:t.from,to:t.to,total:t.total,perPage:t.perPage,title:t.title}}),t._v(" "),a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("vuetable",{ref:"vuetable",attrs:{"api-mode":!1,items:t.data,"data-manager":t.dataManager,"query-params":t.makeQueryParams,"per-page":t.perPage,fields:t.fields,"pagination-path":"pagination"},on:{"vuetable:pagination-data":t.onPaginationData}}),t._v(" "),a("vuetable-pagination-bootstrap",{ref:"pagination",staticClass:"mt-4",on:{"vuetable-pagination:change-page":t.onChangePage}})],1)],1)],1)},o=[],c=(a("fb6a"),a("ac1f"),a("841c"),a("c3d0")),u=a("9484"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("h1",[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"top-right-button-container"},[a("b-button-group")],1),t._v(" "),a("div",{staticClass:"mb-2 mt-2"},[a("b-collapse",{staticClass:"d-md-block",attrs:{id:"displayOptions"}},[a("div",{staticClass:"float-md-right pt-1"},[a("span",{staticClass:"text-muted text-small mr-1 mb-2"},[t._v(t._s(t.from)+"-"+t._s(t.to)+" of "+t._s(t.total))]),t._v(" "),a("b-dropdown",{staticClass:"d-inline-block",attrs:{id:"ddown2",right:"",text:""+t.perPage,variant:"outline-dark",size:"xs"}},t._l(t.pageSizes,(function(e,s){return a("b-dropdown-item",{key:s,on:{click:function(a){return t.changePageSize(e)}}},[t._v(t._s(e))])})),1)],1)])],1)])],1)},d=[],m={props:["title","selectAll","isSelectedAll","isAnyItemSelected","keymap","changePageSize","searchChange","from","to","total","perPage"],data:function(){return{categories:[{label:"Cakes",value:"Cakes"},{label:"Cupcakes",value:"Cupcakes"},{label:"Desserts",value:"Desserts"}],statuses:[{text:"ON HOLD",value:"ON HOLD"},{text:"PROCESSED",value:"PROCESSED"}],sortOptions:[{column:"title",label:"Product Name"},{column:"category",label:"Category"},{column:"status",label:"Status"}],pageSizes:[4,8,12]}}},g=m,p=a("2877"),b=Object(p["a"])(g,h,d,!1,null,null,null),v=b.exports,f={props:["title","fields","data"],components:{vuetable:c["a"],"vuetable-pagination-bootstrap":u["a"],"datatable-heading":v},data:function(){return{isLoad:!1,sort:"",page:1,perPage:12,search:"",from:0,to:0,total:0,lastPage:0,items:[],selectedItems:[]}},methods:{dataManager:function(t,e){if(!(this.data.length<1)){var a=this.data;t.length>0&&(console.log("orderBy:",t[0].sortField,t[0].direction),a=_.orderBy(a,t[0].sortField,t[0].direction)),e=this.$refs.vuetable.makePagination(a.length,this.perPage),console.log("pagination:",e);var s=e.from-1,r=s+this.perPage;return{pagination:e,data:_.slice(a,s,r)}}},makeQueryParams:function(t,e,a){return this.selectedItems=[],t[0]?{sort:t[0]?t[0].field+"|"+t[0].direction:"",page:e,per_page:this.perPage,search:this.search}:{page:e,per_page:this.perPage,search:this.search}},onPaginationData:function(t){this.from=t.from,this.to=t.to,this.total=t.total,this.lastPage=t.last_page,this.items=t.data,this.$refs.pagination.setPaginationData(t)},onChangePage:function(t){this.$refs.vuetable.changePage(t)},changePageSize:function(t){this.perPage=t,this.$refs.vuetable.refresh()},searchChange:function(t){this.search=t,this.$refs.vuetable.refresh()}},computed:{},mounted:function(){},watch:{data:function(t,e){this.$refs.vuetable.refresh()}}},x=f,P=Object(p["a"])(x,l,o,!1,null,null,null),C=P.exports,k={components:{datatable:C},data:function(){return{searchRequest:{keyword:null,mode:null},results:[],currentPage:1,totalPage:5}},computed:Object(i["a"])({},Object(n["c"])(["searchResults","searchMode"])),methods:{linkGen:function(t){return"#page-"+t}},mounted:function(){this.searchRequest.keyword=this.$route.query.keyword,this.searchRequest.mode=this.$route.query.mode,this.$store.dispatch("searchVehicle",this.searchRequest)},watch:{searchResults:function(){this.results=this.searchResults},searchMode:function(){this.searchRequest.mode=this.searchMode}}},w=k,y=Object(p["a"])(w,s,r,!1,null,null,null);e["default"]=y.exports}}]);