(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["van_management"],{"7db0":function(e,t,a){"use strict";var s=a("23e7"),n=a("b727").find,i=a("44d2"),r=a("ae40"),o="find",l=!0,c=r(o);o in[]&&Array(1)[o]((function(){l=!1})),s({target:"Array",proto:!0,forced:l||!c},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},a623:function(e,t,a){"use strict";var s=a("23e7"),n=a("b727").every,i=a("a640"),r=a("ae40"),o=i("every"),l=r("every");s({target:"Array",proto:!0,forced:!o||!l},{every:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},c2a8:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("h1",[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mb-2 mt-2"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.displayOptions",modifiers:{displayOptions:!0}}],staticClass:"pt-0 pl-0 d-inline-block d-md-none",attrs:{variant:"empty"}},[e._v("\n        "+e._s(e.$t("pages.display-options"))+"\n        "),a("i",{staticClass:"simple-icon-arrow-down align-middle"})]),e._v(" "),a("b-collapse",{staticClass:"d-md-block",attrs:{id:"displayOptions"}},[a("div",{staticClass:"d-block d-md-inline-block pt-1"},[a("div",{staticClass:"search-sm d-inline-block float-md-left mr-1 align-top"},[a("b-input",{attrs:{placeholder:e.$t("menu.search")},on:{input:function(t){return e.searchChange(t)}}}),e._v(" "),e.searchColumn?a("div",{staticClass:"mt-2 badge badge-light"},[e._v("Search by "+e._s(e.selectedSearchColumn))]):e._e()],1),e._v(" "),e.searchColumn?a("div",{staticClass:"d-inline-block  ml-2 align-top"},[a("b-dropdown",{staticClass:"d-inline-block",attrs:{id:"ddown2",right:"",text:"Search Column : "+e.searchColumn[0],variant:"outline-dark",size:"xs"}},e._l(e.searchColumn,(function(t,s){return a("b-dropdown-item",{key:s,on:{click:function(a){return e.switchSearchColumn(t)}}},[e._v(e._s(t))])})),1)],1):e._e()]),e._v(" "),a("div",{staticClass:"float-md-right pt-1"},[a("span",{staticClass:"text-muted text-small mr-1 mb-2"},[e._v(e._s(e.from)+"-"+e._s(e.to)+" of "+e._s(e.total))]),e._v(" "),a("b-dropdown",{staticClass:"d-inline-block",attrs:{id:"ddown2",right:"",text:""+e.perPage,variant:"outline-dark",size:"xs"}},e._l(e.pageSizes,(function(t,s){return a("b-dropdown-item",{key:s,on:{click:function(a){return e.changePageSize(t)}}},[e._v(e._s(t))])})),1)],1)])],1),e._v(" "),a("div",{staticClass:"separator mb-5"})])],1)},n=[],i={props:["title","selectAll","isSelectedAll","isAnyItemSelected","keymap","changePageSize","searchChange","from","to","total","perPage","searchColumn","changeSearchColumn"],data:function(){return{categories:[{label:"Cakes",value:"Cakes"},{label:"Cupcakes",value:"Cupcakes"},{label:"Desserts",value:"Desserts"}],statuses:[{text:"ON HOLD",value:"ON HOLD"},{text:"PROCESSED",value:"PROCESSED"}],sortOptions:[{column:"title",label:"Product Name"},{column:"category",label:"Category"},{column:"status",label:"Status"}],pageSizes:[5,10],selectedSearchColumn:null}},methods:{switchSearchColumn:function(e){this.selectedSearchColumn=e,this.changeSearchColumn(e)}},mounted:function(){}},r=i,o=a("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);t["a"]=l.exports},db0b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("h5",{staticClass:"mb-4 card-title"},[e._v(e._s(e.$t("menu.van_management")))]),e._v(" "),a("divided-table",{staticClass:"mt-4",attrs:{fields:e.fields,title:e.title,searchColumn:e.searchColumns}})],1)],1)],1)},n=[],i=a("5530"),r=a("2b47"),o=a("2f62"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("last-step-end",{attrs:{editingMode:e.editing_mode,vehicle:e.vehicle,getVehicles:e.get_vehicles}}),e._v(" "),a("datatable-heading",{attrs:{changePageSize:e.changePageSize,searchChange:e.searchChange,searchColumn:e.searchColumn,from:e.from,to:e.to,total:e.total,perPage:e.perPage,title:e.title}}),e._v(" "),a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"data-manager":e.dataManager,"api-mode":!1,"query-params":e.makeQueryParams,"per-page":e.perPage,items:e.records,fields:e.fields,"pagination-path":"pagination"},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"picture",fn:function(e){return[a("router-link",{attrs:{to:{path:"/app/van_management/vehicle_detail/"+e.rowData.id}}},[a("img",{staticClass:"list-thumbnail responsive border-0",staticStyle:{width:"100px !important"},attrs:{alt:"Thumbnail",src:e.rowData.picture}})])]}},{key:"added",fn:function(t){return[a("ul",[a("li",[e._v("Added: "+e._s(t.rowData.added))]),e._v(" "),a("li",[e._v("Updated: "+e._s(t.rowData.updated)+" ")])])]}},{key:"actions",fn:function(t){return[a("router-link",{attrs:{to:{path:"/app/van_management/vehicle_detail/"+t.rowData.id},size:"sm",variant:"grey"}},[a("i",{staticClass:"simple-icon-eye"})]),e._v(" "),a("b-button",{attrs:{size:"sm",variant:"grey"},on:{click:function(a){return e.edit(t.rowData.id)}}},[a("i",{staticClass:"simple-icon-pencil"})]),e._v(" "),a("b-button",{attrs:{"v-if":1==e.user.role_id,size:"sm",variant:"grey"},on:{click:function(a){return e.delete_vehicle(t.rowData.id)}}},[a("i",{staticClass:"simple-icon-trash"})]),e._v(" "),1==e.user.role_id&&3==t.rowData.status_id?a("b-button",{attrs:{size:"sm",variant:"grey"},on:{click:function(a){return e.mark_vehicle_active(t.rowData.id)}}},[a("i",{staticClass:"simple-icon-check"})]):e._e()]}}])}),e._v(" "),a("vuetable-pagination-bootstrap",{ref:"pagination",staticClass:"mt-4",attrs:{"per-page":e.perPage},on:{"vuetable-pagination:change-page":e.onChangePage}})],1)],1),e._v(" "),a("v-contextmenu",{ref:"contextmenu"},[a("v-contextmenu-item",{on:{click:function(t){return e.onContextMenuAction("copy")}}},[a("i",{staticClass:"simple-icon-docs"}),e._v(" "),a("span",[e._v("Copy")])]),e._v(" "),a("v-contextmenu-item",{on:{click:function(t){return e.onContextMenuAction("move-to-archive")}}},[a("i",{staticClass:"simple-icon-drawer"}),e._v(" "),a("span",[e._v("Move to archive")])]),e._v(" "),a("v-contextmenu-item",{on:{click:function(t){return e.onContextMenuAction("delete")}}},[a("i",{staticClass:"simple-icon-trash"}),e._v(" "),a("span",[e._v("Delete")])])],1)],1)},c=[],m=(a("a623"),a("4de4"),a("caad"),a("d81d"),a("fb6a"),a("ac1f"),a("2532"),a("841c"),a("1276"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{staticClass:"mb-4",attrs:{"no-body":""}},[a("b-card-body",{staticClass:"wizard wizard-default"},[a("form-wizard",{ref:"vehicleWiz",attrs:{editing_mode:e.editing_mode,done:e.dataDone,"last-step-end":!0}},[a("tab",{attrs:{name:e.$t("wizard.step-name-1"),validate:e.validateStep1,submit:e.submitStep1,desc:e.$t("wizard.step-desc-1"),selected:!0}},[a("div",{staticClass:"wizard-basic-step"},[a("b-row",{staticClass:"mb-4"},[a("b-colxx",{attrs:{xxs:"12",xs:"12",lg:"12"}},[a("img",{ref:"vanImage",staticClass:"img-fluid ",attrs:{width:"200px"}})])],1),e._v(" "),a("b-row",[a("b-colxx",{attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("b-form-group",{attrs:{label:e.$t("forms.van_management.picture_of_vehicle")}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text",state:!e.$v.formStep1.picture.$error},model:{value:e.$v.formStep1.picture.$model,callback:function(t){e.$set(e.$v.formStep1.picture,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.picture.$model"}}),e._v(" "),a("b-form-file",{attrs:{"drop-placeholder":"Drop file here...",accept:"image/*"},on:{change:e.onFileChange},model:{value:e.$v.formStep1.picture.$model,callback:function(t){e.$set(e.$v.formStep1.picture,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.picture.$model"}}),e._v(" "),e.$v.formStep1.picture.$error?a("b-form-invalid-feedback",[e._v(" Picture is required!")]):e._e()],1)],1)],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep1.vin.$error},model:{value:e.$v.formStep1.vin.$model,callback:function(t){e.$set(e.$v.formStep1.vin,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.vin.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.vin")))]),e._v(" "),a("b-form-invalid-feedback",[e._v("VIN is required!")])],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep1.reg_plate_number.$error},model:{value:e.$v.formStep1.reg_plate_number.$model,callback:function(t){e.$set(e.$v.formStep1.reg_plate_number,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.reg_plate_number.$model"}}),e._v(" "),a("b-form-invalid-feedback",[e._v("Reg Plate Number is required!")]),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.rego_plate_number")))])],1)])],1)],1),e._v(" "),a("b-row",[a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep1.mileage.$error},model:{value:e.$v.formStep1.mileage.$model,callback:function(t){e.$set(e.$v.formStep1.mileage,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.mileage.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.mileage")))]),e._v(" "),a("b-form-invalid-feedback",[e._v("Mileage is required!")])],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text",state:!e.$v.formStep1.vehicle_type_id.$error},model:{value:e.$v.formStep1.vehicle_type_id.$model,callback:function(t){e.$set(e.$v.formStep1.vehicle_type_id,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.vehicle_type_id.$model"}}),e._v(" "),a("v-select",{attrs:{state:!e.$v.formStep1.vehicle_type_id.$error,label:"name",reduce:function(e){return e.id},"aria-placeholder":"Select Vehicle Type",options:e.vehicle_type_options},model:{value:e.$v.formStep1.vehicle_type_id.$model,callback:function(t){e.$set(e.$v.formStep1.vehicle_type_id,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.vehicle_type_id.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.vehicle_type")))]),e._v(" "),a("b-form-invalid-feedback",[e._v("Vehicle Type is required!")])],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text",state:!e.$v.formStep1.purchase_date.$error},model:{value:e.$v.formStep1.purchase_date.$model,callback:function(t){e.$set(e.$v.formStep1.purchase_date,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.purchase_date.$model"}}),e._v(" "),a("datepicker",{attrs:{"bootstrap-styling":!0,state:!e.$v.formStep1.purchase_date.$error,format:"dd-MM-yyyy"},model:{value:e.$v.formStep1.purchase_date.$model,callback:function(t){e.$set(e.$v.formStep1.purchase_date,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.purchase_date.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.purchase_date")))]),e._v(" "),a("b-form-invalid-feedback",[e._v("Purchase date is required!")])],1)])],1)],1),e._v(" "),a("b-row",[a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep1.make.$error},model:{value:e.$v.formStep1.make.$model,callback:function(t){e.$set(e.$v.formStep1.make,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.make.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.make")))]),e._v(" "),a("b-form-invalid-feedback",[e._v("Make is required!")])],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep1.model.$error},model:{value:e.$v.formStep1.model.$model,callback:function(t){e.$set(e.$v.formStep1.model,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.model.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.model")))]),e._v(" "),a("b-form-invalid-feedback",[e._v("Model is required!")])],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep1.purchase_price.$error},model:{value:e.$v.formStep1.purchase_price.$model,callback:function(t){e.$set(e.$v.formStep1.purchase_price,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.purchase_price.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.purchase_price")))]),e._v(" "),a("b-form-invalid-feedback",[e._v("Purchase Price is required!")])],1)])],1)],1),e._v(" "),a("b-row",[a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-textarea",{attrs:{state:!e.$v.formStep1.vehicle_condition.$error},model:{value:e.$v.formStep1.vehicle_condition.$model,callback:function(t){e.$set(e.$v.formStep1.vehicle_condition,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep1.vehicle_condition.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.vehicle_condition")))]),e._v(" "),a("b-form-invalid-feedback",[e._v("Vehicle Condition is required!")])],1)])],1)],1)],1)]),e._v(" "),a("tab",{attrs:{name:e.$t("wizard.step-name-2"),validate:e.validateStep2,submit:e.submitStep2,desc:e.$t("wizard.step-desc-2")}},[a("div",{staticClass:"wizard-basic-step"},[a("b-row",[a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep2.seller_name.$error},model:{value:e.$v.formStep2.seller_name.$model,callback:function(t){e.$set(e.$v.formStep2.seller_name,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep2.seller_name.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.sellers_name")))]),e._v(" "),e.$v.formStep2.seller_name.$error?a("b-form-invalid-feedback",[e._v(" Seller name is required!")]):e._e()],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep2.seller_address.$error},model:{value:e.$v.formStep2.seller_address.$model,callback:function(t){e.$set(e.$v.formStep2.seller_address,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep2.seller_address.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.sellers_address")))]),e._v(" "),e.$v.formStep2.seller_address.$error?a("b-form-invalid-feedback",[e._v(" Seller address is required!")]):e._e()],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep2.seller_contact_number.$error},model:{value:e.$v.formStep2.seller_contact_number.$model,callback:function(t){e.$set(e.$v.formStep2.seller_contact_number,"$model",t)},expression:"$v.formStep2.seller_contact_number.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.sellers_contact_no")))]),e._v(" "),e.$v.formStep2.seller_contact_number.$error?a("b-form-invalid-feedback",[e._v(" Seller contact number is required!")]):e._e()],1)])],1)],1)],1)]),e._v(" "),a("tab",{attrs:{name:e.$t("wizard.step-name-3"),validate:e.validateStep3,submit:e.submitStep3,desc:e.$t("wizard.step-desc-3")}},[a("div",{staticClass:"wizard-basic-step"},[a("b-row",[a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"3",lg:"3"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep3.company_name.$error},model:{value:e.$v.formStep3.company_name.$model,callback:function(t){e.$set(e.$v.formStep3.company_name,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.company_name.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.company_name")))]),e._v(" "),e.$v.formStep3.company_name.$error?a("b-form-invalid-feedback",[e._v(" Company name is required!")]):e._e()],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"3",lg:"3"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",state:!e.$v.formStep3.policy_number.$error,placeholder:e.$t("forms.van_management.policy_number")},model:{value:e.$v.formStep3.policy_number.$model,callback:function(t){e.$set(e.$v.formStep3.policy_number,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.policy_number.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.policy_number")))]),e._v(" "),e.$v.formStep3.policy_number.$error?a("b-form-invalid-feedback",[e._v(" Policy Number is required!")]):e._e()],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"3",lg:"3"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text",state:!e.$v.formStep3.policy_type_id.$error},model:{value:e.$v.formStep3.policy_type_id.$model,callback:function(t){e.$set(e.$v.formStep3.policy_type_id,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.policy_type_id.$model"}}),e._v(" "),a("v-select",{attrs:{state:!e.$v.formStep3.policy_type_id.$error,label:"name",reduce:function(e){return e.id},options:e.policy_type_options},model:{value:e.$v.formStep3.policy_type_id.$model,callback:function(t){e.$set(e.$v.formStep3.policy_type_id,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.policy_type_id.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.policy_type")))]),e._v(" "),a("b-form-invalid-feedback",[e._v(" Policy Type is required!")])],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"3",lg:"3"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text",state:!e.$v.formStep3.policy_start_date.$error},model:{value:e.$v.formStep3.policy_start_date.$model,callback:function(t){e.$set(e.$v.formStep3.policy_start_date,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.policy_start_date.$model"}}),e._v(" "),a("datepicker",{attrs:{"bootstrap-styling":!0,state:!e.$v.formStep3.policy_start_date.$error,format:"dd-MM-yyyy"},model:{value:e.$v.formStep3.policy_start_date.$model,callback:function(t){e.$set(e.$v.formStep3.policy_start_date,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.policy_start_date.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.policy_start_date")))]),e._v(" "),a("b-form-invalid-feedback",[e._v(" pick start date!")])],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"3",lg:"3"}},[a("b-form",{staticClass:"av-tooltip tooltip-label-right"},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text",state:!e.$v.formStep3.policy_end_date.$error},model:{value:e.$v.formStep3.policy_end_date.$model,callback:function(t){e.$set(e.$v.formStep3.policy_end_date,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.policy_end_date.$model"}}),e._v(" "),a("datepicker",{attrs:{"bootstrap-styling":!0,state:!e.$v.formStep3.policy_end_date.$error,format:"dd-MM-yyyy"},model:{value:e.$v.formStep3.policy_end_date.$model,callback:function(t){e.$set(e.$v.formStep3.policy_end_date,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.policy_end_date.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.policy_end_date")))]),e._v(" "),a("b-form-invalid-feedback",[e._v(" pick start date!")])],1)])],1)],1),e._v(" "),a("b-row",[a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"3",lg:"3"}},[a("b-form-group",{attrs:{label:"Road side assistance ?"}},[a("b-radio-group",[a("b-radio",{attrs:{value:"yes",checked:"yes"==e.formStep3.road_side_assistance},model:{value:e.formStep3.road_side_assistance,callback:function(t){e.$set(e.formStep3,"road_side_assistance",t)},expression:"formStep3.road_side_assistance"}},[e._v("Yes")]),e._v(" "),a("b-radio",{attrs:{value:"no",checked:"no"==e.formStep3.road_side_assistance},model:{value:e.formStep3.road_side_assistance,callback:function(t){e.$set(e.formStep3,"road_side_assistance",t)},expression:"formStep3.road_side_assistance"}},[e._v("No")])],1)],1)],1),e._v(" "),"no"==e.formStep3.road_side_assistance?a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"3",lg:"3"}},[a("b-form",[a("b-form-input",{attrs:{type:"text",placeholder:e.$t("forms.van_management.road_side_assistance_company")},model:{value:e.formStep3.road_side_assistance_company,callback:function(t){e.$set(e.formStep3,"road_side_assistance_company",t)},expression:"formStep3.road_side_assistance_company"}})],1)],1):e._e(),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"3",lg:"3"}},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text",state:!e.$v.formStep3.road_side_assistance_start_date.$error},model:{value:e.$v.formStep3.road_side_assistance_start_date.$model,callback:function(t){e.$set(e.$v.formStep3.road_side_assistance_start_date,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.road_side_assistance_start_date.$model"}}),e._v(" "),a("datepicker",{attrs:{"bootstrap-styling":!0,state:!e.$v.formStep3.road_side_assistance_start_date.$error,format:"dd-MM-yyyy"},model:{value:e.$v.formStep3.road_side_assistance_start_date.$model,callback:function(t){e.$set(e.$v.formStep3.road_side_assistance_start_date,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.road_side_assistance_start_date.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.road_side_assistance_start_date")))]),e._v(" "),a("b-form-invalid-feedback",[e._v(" Road assistance start date!")])],1)]),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"3",lg:"3"}},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text",state:!e.$v.formStep3.road_side_assistance_end_date.$error},model:{value:e.$v.formStep3.road_side_assistance_end_date.$model,callback:function(t){e.$set(e.$v.formStep3.road_side_assistance_end_date,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.road_side_assistance_end_date.$model"}}),e._v(" "),a("datepicker",{attrs:{"bootstrap-styling":!0,state:!e.$v.formStep3.road_side_assistance_end_date.$error,format:"dd-MM-yyyy"},model:{value:e.$v.formStep3.road_side_assistance_end_date.$model,callback:function(t){e.$set(e.$v.formStep3.road_side_assistance_end_date,"$model","string"===typeof t?t.trim():t)},expression:"$v.formStep3.road_side_assistance_end_date.$model"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.road_side_assistance_end_date")))]),e._v(" "),a("b-form-invalid-feedback",[e._v(" Road assistance end date")])],1)])],1)],1)]),e._v(" "),a("tab",{attrs:{name:e.$t("wizard.step-name-4"),desc:e.$t("wizard.step-desc-4")}},[a("div",{staticClass:"wizard-basic-step"},[e._l(e.formStep4.maintenance_records,(function(t,s){return a("b-card",{key:s,staticClass:"mb-3"},[a("b-row",{staticClass:"maintenance_row"},[a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text"},model:{value:e.formStep4.maintenance_records[s].maintenance_date,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"maintenance_date","string"===typeof t?t.trim():t)},expression:"formStep4.maintenance_records[index].maintenance_date"}}),e._v(" "),a("datepicker",{attrs:{"bootstrap-styling":!0,placeholder:e.$t("forms.van_management.maintenance_date"),format:"dd-MM-yyyy"},model:{value:e.formStep4.maintenance_records[s].maintenance_date,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"maintenance_date",t)},expression:"formStep4.maintenance_records[index].maintenance_date"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.maintenance_date")))]),e._v(" "),a("b-form-invalid-feedback",[e._v("Maintenance Date Required!")])],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",placeholder:e.$t("forms.van_management.maintenance_mileage")},model:{value:e.formStep4.maintenance_records[s].maintenance_mileage,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"maintenance_mileage",t)},expression:"formStep4.maintenance_records[index].maintenance_mileage"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.maintenance_mileage")))])],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("v-select",{attrs:{label:"name",reduce:function(e){return e.id},"aria-placeholder":"Service Type",options:e.service_type_options},model:{value:e.formStep4.maintenance_records[s].maintenance_type_id,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"maintenance_type_id",t)},expression:"formStep4.maintenance_records[index].maintenance_type_id"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.maintenance_type")))])],1)])],1),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"2",lg:"2"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",placeholder:e.$t("forms.van_management.maintenance_cost")},model:{value:e.formStep4.maintenance_records[s].maintenance_cost,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"maintenance_cost",t)},expression:"formStep4.maintenance_records[index].maintenance_cost"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.maintenance_cost")))])],1)])],1),e._v(" "),1==e.formStep4.maintenance_records[s].maintenance_type_id||2==e.formStep4.maintenance_records[s].maintenance_type_id?a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"2",lg:"2"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",placeholder:e.$t("forms.van_management.maintenance_place")},model:{value:e.formStep4.maintenance_records[s].maintenance_place,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"maintenance_place",t)},expression:"formStep4.maintenance_records[index].maintenance_place"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.maintenance_place")))])],1)])],1):e._e(),e._v(" "),1==e.formStep4.maintenance_records[s].maintenance_type_id||2==e.formStep4.maintenance_records[s].maintenance_type_id?a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"2",lg:"2"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",placeholder:e.$t("forms.van_management.mechanic_name")},model:{value:e.formStep4.maintenance_records[s].mechanic_name,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"mechanic_name",t)},expression:"formStep4.maintenance_records[index].mechanic_name"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.mechanic_name")))])],1)])],1):e._e(),e._v(" "),2==e.formStep4.maintenance_records[s].maintenance_type_id?a("b-colxx",{attrs:{xxs:"12",xs:"2",lg:"2"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",placeholder:e.$t("forms.van_management.part_replaced")},model:{value:e.formStep4.maintenance_records[s].part_replaced,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"part_replaced",t)},expression:"formStep4.maintenance_records[index].part_replaced"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.part_replaced")))])],1)])],1):e._e(),e._v(" "),2==e.formStep4.maintenance_records[s].maintenance_type_id?a("b-colxx",{attrs:{xxs:"12",xs:"2",lg:"2"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",placeholder:e.$t("forms.van_management.part_repaired")},model:{value:e.formStep4.maintenance_records[s].part_repaired,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"part_repaired",t)},expression:"formStep4.maintenance_records[index].part_repaired"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.part_repaired")))])],1)])],1):e._e(),e._v(" "),3!=e.formStep4.maintenance_records[s].maintenance_type_id?a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",placeholder:e.$t("forms.van_management.comments")},model:{value:e.formStep4.maintenance_records[s].comments,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"comments",t)},expression:"formStep4.maintenance_records[index].comments"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.comments")))])],1)])],1):e._e(),e._v(" "),3==e.formStep4.maintenance_records[s].maintenance_type_id?a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("v-select",{attrs:{label:"name",reduce:function(e){return e.id},"aria-placeholder":"Tyres",options:e.tyres_replaced},model:{value:e.formStep4.maintenance_records[s].tyre_replaced,callback:function(t){e.$set(e.formStep4.maintenance_records[s],"tyre_replaced",t)},expression:"formStep4.maintenance_records[index].tyre_replaced"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.tyre_replaced")))])],1)])],1):e._e(),e._v(" "),a("b-colxx",{attrs:{xxs:"12",xs:"1",lg:"1"}},[a("b-form",[a("b-button",{attrs:{type:"button",variant:"danger"},on:{click:function(t){return e.remove_maintenance_row(s)}}},[e._v("Remove")])],1)],1)],1)],1)})),e._v(" "),a("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.add_maintenance_row}},[e._v("Add Row")]),e._v(" "),a("b-row",{staticClass:"mt-4"},[a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"12",lg:"12"}},[e._v("\r\n                        Next Maintenance Due:\r\n                    ")]),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",placeholder:e.$t("forms.van_management.next_maintenance_mileage")},model:{value:e.formStep4.next_maintenance_mileage,callback:function(t){e.$set(e.formStep4,"next_maintenance_mileage",t)},expression:"formStep4.next_maintenance_mileage"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.next_maintenance_mileage")))])],1)])],1),e._v(" "),a("b-colxx",{attrs:{xxs:"12",xs:"4",lg:"4"}},[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text"},model:{value:e.formStep4.next_maintenance_due_date,callback:function(t){e.$set(e.formStep4,"next_maintenance_due_date","string"===typeof t?t.trim():t)},expression:"formStep4.next_maintenance_due_date"}}),e._v(" "),a("datepicker",{attrs:{"bootstrap-styling":!0,format:"dd-MM-yyyy"},model:{value:e.formStep4.next_maintenance_due_date,callback:function(t){e.$set(e.formStep4,"next_maintenance_due_date",t)},expression:"formStep4.next_maintenance_due_date"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.next_maintenance_due_date")))]),e._v(" "),a("b-form-invalid-feedback",[e._v("Next Maintenance Date required")])],1)]),e._v(" "),a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("v-select",{attrs:{label:"name",reduce:function(e){return e.id},"aria-placeholder":"Maintenance Type",options:e.next_maintenance_service_options},model:{value:e.formStep4.next_maintenance_service,callback:function(t){e.$set(e.formStep4,"next_maintenance_service",t)},expression:"formStep4.next_maintenance_service"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.next_maintenance_service_type")))])],1)])],1),e._v(" "),"Mechanical"==e.formStep4.next_maintenance_service?a("b-colxx",{staticClass:"mb-3",attrs:{xxs:"12",xs:"4",lg:"4"}},[a("b-form",[a("label",{staticClass:"form-group has-top-label"},[a("b-form-input",{attrs:{type:"text",placeholder:e.$t("forms.van_management.next_maintenance_comments")},model:{value:e.formStep4.next_maintenance_comments,callback:function(t){e.$set(e.formStep4,"next_maintenance_comments",t)},expression:"formStep4.next_maintenance_comments"}}),e._v(" "),a("span",[e._v(e._s(e.$t("forms.van_management.next_maintenance_comments")))])],1)])],1):e._e()],1)],2)]),e._v(" "),a("tab",{attrs:{type:"done"}},[a("div",{staticClass:"wizard-basic-step text-center"},[a("div",{staticClass:"mt-2"},[e.processing?a("div",[a("b-spinner",{attrs:{variant:"primary"}}),e._v(" "),a("span",{staticClass:"text-primary"},[e._v(e._s(e.processing_text))])],1):a("div",[e.editing_mode?a("h1",[e._v("The Vehicle has been Upadated successfully!")]):a("h1",[e._v("The Vehicle has been registered successfully!")])])])])])],1)],1)],1)}),d=[],p=(a("4160"),a("a434"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("2b3d"),a("cee4")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{class:"nav nav-tabs "+e.navClass},e._l(e.tabs,(function(t,s){return"done"!=t.type?a("li",{key:t.name,class:{"nav-item":!0,"step-doing":t.isActive,"step-done":t.isDone}},[a("a",{class:{"nav-link":!0,disabled:e.topNavDisabled},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.clickedTab(s)}}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("small",[e._v(e._s(t.desc))])])]):e._e()})),0),e._v(" "),e._t("default"),e._v(" "),e.lastStepEnd&&e.isCompleted?e._e():a("div",{class:"wizard-buttons "+e.navClass},[a("button",{staticClass:"mr-1 btn btn-primary",attrs:{type:"button",disabled:!e.currentActive>0},on:{click:function(t){return e.previousTab()}}},[e._v("\r\n            "+e._s(e.$t("wizard.prev"))+"\r\n        ")]),e._v(" "),e.currentActive==e.totalTabs-1?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:e.currentActive>e.totalTabs-1},on:{click:function(t){return e.nextTab()}}},[e.editing_mode?a("div",[e._v("Update")]):a("div",[e._v("Save")])]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.currentActive>e.totalTabs-1},on:{click:function(t){return e.nextTab()}}},[a("div",[e._v(e._s(e.$t("wizard.next")))])])])],2)},v=[],f=(a("7db0"),{name:"form-wizard",props:{navClass:{default:"justify-content-center"},lastStepEnd:{default:!1},topNavDisabled:{default:!0},withValidate:{default:!0},editing_mode:{default:!1},done:{type:Function,default:function(){console.log("called done!")}}},data:function(){return{tabs:[],currentActive:0,totalTabs:0,isCompleted:!1}},created:function(){this.tabs=this.$children},mounted:function(){this.tabs&&(this.totalTabs=this.tabs.filter((function(e){return"done"!=e.type})).length)},methods:{tabStatusFix:function(){var e=this;this.tabs.forEach((function(t,a){var s=t.isDone;s||(s=e.currentActive>a),t.isDone=s,t.isActive=!1}))},clickedTab:function(e){this.topNavDisabled||this.lastStepEnd&&this.isCompleted||(this.currentActive=e,this.tabStatusFix(),this.tabs[this.currentActive].isActive=!0)},previousTab:function(){this.currentActive--,this.tabStatusFix(),this.tabs[this.currentActive].isActive=!0,window.scrollTo(0,0)},nextTab:function(){var e=!0;if(this.withValidate&&(e=this.tabs[this.currentActive].validate(),console.log("Valid ==>",e),e&&this.tabs[this.currentActive].submit()),e){if(this.currentActive++,this.tabStatusFix(),this.currentActive>=this.totalTabs){this.isCompleted=!0;var t=this.tabs.find((function(e){return"done"==e.type}));t?t.isActive=!0:this.tabs[this.currentActive-1].isActive=!0,this.done()}else this.tabs[this.currentActive].isActive=!0;window.scrollTo(0,0)}}}}),h=f,b=a("2877"),g=Object(b["a"])(h,u,v,!1,null,null,null),x=g.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}]},[e._t("default")],2)},y=[],S={name:"tab",props:{name:{default:""},desc:{},type:{default:"tab"},selected:{default:!1},done:{default:!1},validate:{type:Function,default:function(){return console.log("validate..............."),!0}},submit:{type:Function,default:function(){return console.log("submit..............."),!0}}},data:function(){return{isActive:!1,isDone:!1}},created:function(){this.isActive=this.selected,this.isDone=this.done}},C=S,k=Object(b["a"])(C,$,y,!1,null,null,null),w=k.exports,A=a("4a7a"),z=a.n(A),P=(a("6dfc"),a("fa33")),M=a("1dce"),q=a("b5ae"),D=q.required,O=(q.minLength,{components:{"form-wizard":x,tab:w,"v-select":z.a,datepicker:P["a"]},props:{topNavDisabled:{default:!0},withValidate:{default:!1},getVehicles:{type:Function},vehicle:{default:!1},editingMode:{default:!1}},data:function(){return{editing_mode:!1,processing:!1,processing_text:"",tyres_replaced:[{id:"front",name:"Front"},{id:"rear",name:"Rear"},{id:"all",name:"All"}],next_maintenance_service_options:[{id:"Engine Oil",name:"Engine Oil"},{id:"Transmission Oil",name:"Transmission Oil"},{id:"Diff Oil",name:"Diff Oil"},{id:"Tyre Change",name:"Tyre Change"},{id:"Wash",name:"Wash"},{id:"Mechanical",name:"Mechanical"}],vehicle_registration_success:!1,policy_type_options:[],service_type_options:[],vehicle_type_options:[],formStep1:{vehicle_type_id:"",vin:"",reg_plate_number:"",mileage:"",picture:null,purchase_date:"",make:"",model:"",purchase_price:"",vehicle_condition:""},formStep2:{seller_name:"",seller_address:"",seller_contact_number:""},formStep3:{company_name:"",policy_number:"",policy_type_id:"",policy_start_date:"",policy_end_date:"",road_side_assistance:"",road_side_assistance_company:"",road_side_assistance_start_date:"",road_side_assistance_end_date:"",demage_details:"",damage_picture:""},formStep4:{maintenance_records:[{maintenance_id:"",maintenance_mileage:"",maintenance_date:"",maintenance_type_id:"",maintenance_cost:"",maintenance_place:"",mechanic_name:"",part_replaced:"",part_repaired:"",tyre_replaced:"",comments:""}],next_maintenance_mileage:null,next_maintenance_due_date:null,next_maintenance_service:"Next maintenance service type",next_maintenance_comments:null},form:{}}},mixins:[M["validationMixin"]],validations:{formStep1:{vehicle_type_id:{required:D},vin:{required:D},reg_plate_number:{required:D},mileage:{required:D},picture:{required:D},purchase_date:{required:D},make:{required:D},model:{required:D},purchase_price:{required:D},vehicle_condition:{required:D}},formStep2:{seller_name:{required:D},seller_address:{required:D},seller_contact_number:{required:D}},formStep3:{company_name:{required:D},policy_number:{required:D},policy_type_id:{required:D},policy_start_date:{required:D},policy_end_date:{required:D},road_side_assistance_start_date:{required:D},road_side_assistance_end_date:{required:D}}},methods:{validateStep1:function(){return this.$v.formStep1.$touch(),!this.$v.formStep1.$anyError},submitStep1:function(){console.log("step-1-submit")},validateStep2:function(){return this.$v.formStep2.$touch(),!this.$v.formStep2.$anyError},submitStep2:function(){console.log("step-2-submit")},validateStep3:function(){return this.$v.formStep3.$touch(),!this.$v.formStep3.$anyError},submitStep3:function(){console.log("step-3-submit")},onFileChange:function(e){var t=e.target.files[0];this.$refs.vanImage.setAttribute("src",URL.createObjectURL(t))},remove_maintenance_row:function(e){this.formStep4.maintenance_records.splice(e,1)},add_maintenance_row:function(){this.formStep4.maintenance_records.push({maintenance_type_id:"Maintenance Type",maintenance_cost:null,maintenance_place:null,mechanic_name:null,comments:null})},get_vehicle_type_options:function(){var e=this;p["a"].get(r["a"]+"/vehicle_type",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.vehicle_type_options=t.data}))},get_policy_type_options:function(){var e=this;p["a"].get(r["a"]+"/policy_type",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.policy_type_options=t.data}))},get_service_type_options:function(){var e=this;p["a"].get(r["a"]+"/service_type_options",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.service_type_options=t.data}))},register_vehicle:function(){var e=this;this.processing_text="Saving vehicle data..",this.processing=!0,p["a"].post(r["a"]+"/vehicle",Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},this.formStep1),this.formStep2),this.formStep3),this.formStep4),{headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.$notify("success filled","Success!","Vehicle Registered Successfully!",{duration:3e3,permanent:!1}),e.vehicle_registration_success=!0,e.getVehicles(),e.processing=!1,e.$refs.vehicleWiz.reset()})).catch((function(t){e.$notify("error filled","Error!",t.response.data.message,{duration:3e3,permanent:!1}),e.processing=!1}))},update_vehicle:function(e){var t=this;this.processing_text="Updating Vehicle Data..",this.processing=!0,p["a"].post(r["a"]+"/vehicle/"+e,Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},this.formStep1),this.formStep2),this.formStep3),this.formStep4),{},{_method:"PUT"}),{headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.$notify("success filled","Success!","Vehicle updated Successfully!",{duration:3e3,permanent:!1}),t.vehicle_registration_success=!0,t.getVehicles(),t.processing=!1,t.editing_Mode=!1,t.editingMode=!1,t.$forceUpdate()})).catch((function(e){t.$notify("error filled","Error!",e.response.data.message,{duration:3e3,permanent:!1}),t.processing=!1}))},dataDone:function(){1==this.editingMode?this.update_vehicle(this.vehicle.id):this.register_vehicle()}},mounted:function(){this.getVehicles(),this.get_service_type_options(),this.get_policy_type_options(),this.get_vehicle_type_options()},watch:{editingMode:function(){this.editing_mode=this.editingMode},vehicle:function(e){var t=this;this.formStep1.vehicle_type_id=this.vehicle.type_id,this.formStep1.vin=this.vehicle.vin,this.formStep1.reg_plate_number=this.vehicle.reg_plate_number,this.formStep1.mileage=this.vehicle.mileage,this.formStep1.picture=this.vehicle.picture,this.formStep1.purchase_date=this.vehicle.purchase_date,this.formStep1.make=this.vehicle.make,this.formStep1.model=this.vehicle.model,this.formStep1.purchase_price=this.vehicle.purchase_price,this.formStep1.vehicle_condition=this.vehicle.vehicle_condition,this.formStep2.seller_name=this.vehicle.seller_name,this.formStep2.seller_address=this.vehicle.seller_address,this.formStep2.seller_contact_number=this.vehicle.seller_contact_number,this.formStep3.company_name=this.vehicle.insurance.company_name,this.formStep3.policy_number=this.vehicle.insurance.policy_number,this.formStep3.policy_type_id=this.vehicle.insurance.policy_type_id,this.formStep3.policy_start_date=this.vehicle.insurance.policy_start_date,this.formStep3.policy_end_date=this.vehicle.insurance.policy_end_date,this.formStep3.road_side_assistance=this.vehicle.insurance.road_side_assistance,this.formStep3.road_side_assistance_company=this.vehicle.insurance.road_side_assistance_company,this.formStep3.road_side_assistance_start_date=this.vehicle.insurance.road_side_assistance_start_date,this.formStep3.road_side_assistance_end_date=this.vehicle.insurance.road_side_assistance_end_date,this.formStep3.demage_details=this.vehicle.insurance.demage_details,this.formStep3.damage_picture=this.vehicle.insurance.damage_picture,this.vehicle.maintenance.forEach((function(e,a){t.formStep4.maintenance_records.unshift({maintenance_id:e.id,maintenance_type_id:e.service_type_id,maintenance_mileage:e.mileage,maintenance_date:e.date,maintenance_cost:e.cost,maintenance_place:e.place,mechanic_name:e.mechanic_name,part_repaired:e.part_repaired,part_replaced:e.part_replaced,tyre_replaced:e.tyre_replaced,comments:e.comments})})),null!=e.next_maintenance_mileage&&(this.formStep4.next_maintenance_mileage=e.next_maintenance_mileage),null!=e.next_maintenance_due_date&&(this.formStep4.next_maintenance_due_date=e.next_maintenance_due_date),null!=e.next_maintenance_service&&(this.formStep4.next_maintenance_service=e.next_maintenance_service),null!=e.next_maintenance_comments&&(this.formStep4.next_maintenance_comments=e.next_maintenance_comments)}}}),T=O,I=Object(b["a"])(T,m,d,!1,null,null,null),E=I.exports,j=a("c3d0"),V=a("9484"),F=a("c2a8"),N={props:["title","fields","searchColumn"],components:{vuetable:j["a"],"vuetable-pagination-bootstrap":V["a"],"datatable-heading":F["a"],"last-step-end":E},data:function(){return{data:[],editing_mode:!1,vehicles:[],vehicle:null,user:null,isLoad:!1,sort:"",page:1,perPage:10,search:"",from:0,to:0,total:0,lastPage:0,selectedItems:[],items:[],records:[]}},methods:{get_vehicles:function(){var e=this;p["a"].get(r["a"]+"/vehicle",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.data=t.data}))},edit:function(e){var t=this;this.editing_mode=!0,p["a"].get(r["a"]+"/vehicle/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.vehicle=e.data,window.scrollTo(0,0)}))},delete_vehicle:function(e){var t=this;p["a"].delete(r["a"]+"/vehicle/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.get_vehicles(),t.$notify("success filled","Success!","Vehicle has been deleted!",{duration:3e3,permanent:!1})})).catch((function(e){t.$notify("error filled","Error!",e.response.data.message,{duration:3e3,permanent:!1})}))},mark_vehicle_active:function(e){var t=this;p["a"].post(r["a"]+"/update_vehicle_status/"+e,{status_id:1,_method:"PUT"},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.get_vehicles(),t.$notify("success filled","Suceess!","vehicle status has been updated!",{duration:3e3,permanent:!1})})).catch((function(e){t.$notify("error filled","Error!",e.response.data.message,{duration:3e3,permanent:!1})}))},dataManager:function(e,t){if(!(this.records.length<1)){var a=this.records;e.length>0&&(a=_.orderBy(a,e[0].sortField,e[0].direction)),t=this.$refs.vuetable.makePagination(a.length,this.perPage);var s=t.from-1,n=s+this.perPage;return{pagination:t,data:_.slice(a,s,n)}}},makeQueryParams:function(e,t,a){return this.selectedItems=[],e[0]?{sort:e[0]?e[0].field+"|"+e[0].direction:"",page:t,per_page:this.perPage,search:this.search}:{page:t,per_page:this.perPage,search:this.search}},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},changePageSize:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e,this.items=this.filteredList,this.$refs.vuetable.refresh()},selectAll:function(e){this.selectedItems.length>=this.items.length?e&&(this.selectedItems=[]):this.selectedItems=this.items.map((function(e){return e.id}))},keymap:function(e){switch(e.srcKey){case"select":this.selectAll(!1);break;case"undo":this.selectedItems=[];break}},getIndex:function(e,t,a){for(var s=0;s<t.length;s++)if(t[s][a]===e)return s;return-1},onContextMenuAction:function(e){console.log("context menu item clicked - "+e+": ",this.selectedItems)}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["currentUser"])),{},{isSelectedAll:function(){return this.selectedItems.length>=this.items.length},isAnyItemSelected:function(){return this.selectedItems.length>0&&this.selectedItems.length<this.items.length},filteredList:function(){var e=this;return this.array=this.data,this.array.filter((function(t){return""==e.search?e.data:e.search.toLowerCase().split(" ").every((function(a){return t[e.searchColumn].toLowerCase().includes(a)}))}))}}),mounted:function(){this.get_vehicles()},watch:{currentUser:function(){this.user=this.currentUser},searchColumn:function(e){this.sColumn=this.searchColumn},data:function(e){this.items=this.data},filteredList:function(e){this.records=this.filteredList},items:function(e,t){this.$refs.vuetable.refresh()}}},U=N,R=Object(b["a"])(U,l,c,!1,null,null,null),L=R.exports,B={components:{"divided-table":L},data:function(){return{title:"Vehicle Management",searchColumns:["reg_plate_number"],user:null,fields:[{name:"__slot:picture",title:"Picture",titleClass:"center aligned",dataClass:"center aligned",width:"15%"},{name:"type",title:"Type",sortField:"type",titleClass:"center aligned",dataClass:"center aligned",width:"5%"},{name:"model",title:"Model",sortField:"model",titleClass:"center aligned",dataClass:"center aligned",width:"5%"},{name:"purchase_price",title:"Purchase Price",sortField:"purchase_price",titleClass:"center aligned",dataClass:"center aligned",width:"5%"},{name:"reg_plate_number",title:"Reg. Plate #",sortField:"reg_plate_number",titleClass:"center aligned",dataClass:"center aligned",width:"5%"},{name:"status",title:"Status",sortField:"status",titleClass:"center aligned",dataClass:"center aligned",width:"5%"},{name:"__slot:added",title:"Added / Updated",titleClass:"center aligned",dataClass:"center aligned",width:"20%"},{name:"__slot:actions",title:"Actions",titleClass:"center aligned text-right",dataClass:"center aligned text-right",width:"15%"}]}},computed:Object(i["a"])({},Object(o["c"])(["currentUser"])),mounted:function(){null!==localStorage.getItem("token")?this.$store.commit("setUser",JSON.parse(localStorage.getItem("user"))):this.$router.push("/user/login")},watch:{currentUser:function(){this.user=this.currentUser,this.user}}},W=B,J=Object(b["a"])(W,s,n,!1,null,null,null);t["default"]=J.exports}}]);