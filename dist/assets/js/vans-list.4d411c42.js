(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vans-list"],{"07ac":function(e,t,a){var s=a("23e7"),n=a("6f53").values;s({target:"Object",stat:!0},{values:function(e){return n(e)}})},"6f53":function(e,t,a){var s=a("83ab"),n=a("df75"),i=a("fc6a"),l=a("d1e7").f,r=function(e){return function(t){var a,r=i(t),c=n(r),u=c.length,o=0,d=[];while(u>o)a=c[o++],s&&!l.call(r,a)||d.push(e?[a,r[a]]:r[a]);return d}};e.exports={entries:r(!0),values:r(!1)}},a36a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("b-card",{staticClass:"mb-4"},[a("datatable",{attrs:{title:e.$t("menu.reports.vans-list"),searchColumn:e.searchColumns,data:e.van_list,fields:e.fields}})],1),e._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(){e.$router.push("/app/reports")}}},[e._v("Back to reports menu")]),e._v(" "),a("button",{staticClass:"btn btn-outline-success",on:{click:function(t){return t.preventDefault(),e.exportToExcel(t)}}},[e._v("Export to Excel")])],1)],1)],1)},n=[],i=(a("d81d"),a("07ac"),a("2b47")),l=a("cee4"),r=a("268a"),c=a("25ca"),u={components:{datatable:r["a"]},data:function(){return{van_list:[],searchColumns:["type","reg_plate_number","make","model","purchase_price"],fields:[{name:"type",sortField:"type",title:"Type",titleClass:"",dataClass:"muted-text",width:"20%"},{name:"reg_plate_number",sortField:"reg_plate_number",title:"Reg#",titleClass:"",dataClass:"muted-text",width:"20%"},{name:"make",sortField:"make",title:"Make",titleClass:"",dataClass:"muted-text",width:"20%"},{name:"model",sortField:"model",title:"Model",titleClass:"",dataClass:"muted-text",width:"20%"},{name:"purchase_price",sortField:"purchase_price",title:"Purchase Price",titleClass:"",dataClass:"muted-text",width:"20%"}]}},methods:{exportToExcel:function(){var e=this.van_list,t=[];e.map((function(a,s){t.push({wch:10}),delete Object.values(e)[s].id,delete Object.values(e)[s].type_id,delete Object.values(e)[s].status_id,e[s].company_name=null==e[s].insurance?"-":e[s].insurance.company_name,e[s].demange_details=null==e[s].insurance?"-":e[s].insurance.demange_details,e[s].policy_start_date=null==e[s].insurance?"-":e[s].insurance.policy_start_date,e[s].policy_end_date=null==e[s].insurance?"-":e[s].insurance.policy_end_date,e[s].road_side_assistance=null==e[s].insurance?"-":e[s].insurance.road_side_assistance,e[s].road_side_assistance_company=null==e[s].insurance?"-":e[s].insurance.road_side_assistance_company,e[s].road_side_assistance_start_date=null==e[s].insurance?"-":e[s].insurance.road_side_assistance_start_date,e[s].road_side_assistance_end_date=null==e[s].insurance?"-":e[s].insurance.road_side_assistance_end_date,e[s].road_side_assistance_company=null==e[s].insurance?"-":e[s].insurance.road_side_assistance_company,delete Object.values(e)[s].insurance,delete Object.values(e)[s].maintenance}));var a=c["a"].json_to_sheet(e),s=c["a"].book_new();c["a"].book_append_sheet(s,a,"Data"),a["!cols"]=t,Object(c["b"])(s,"scvr_vehicles_list.xlsx")},get_van_list:function(){var e=this;l["a"].get(i["a"]+"/vehicle",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.van_list=t.data}))}},mounted:function(){this.get_van_list(),null!==localStorage.getItem("token")?this.$store.commit("setUser",JSON.parse(localStorage.getItem("user"))):this.$router.push("/user/login")}},o=u,d=a("2877"),_=Object(d["a"])(o,s,n,!1,null,null,null);t["default"]=_.exports}}]);