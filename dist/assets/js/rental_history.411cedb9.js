(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["rental_history"],{"4a24":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("b-card",{staticClass:"mb-4",attrs:{title:t.$t("menu.reports.van-rental-history")}},[a("b-row",[a("b-colxx",[a("b-form",{staticClass:"float-end",staticStyle:{"justify-content":"flex-end !important"},attrs:{inline:""}},[a("div",{staticStyle:{"margin-right":"1em !important"}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text"},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date","string"===typeof e?e.trim():e)},expression:"form.start_date"}}),t._v(" "),a("datepicker",{attrs:{"default-value":t.today,type:"date",placeholder:"start date","value-type":"format",format:"DD-MM-YYYY"},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}})],1),t._v(" "),a("div",{staticStyle:{"margin-right":"1em !important"}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{type:"text"},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date","string"===typeof e?e.trim():e)},expression:"form.end_date"}}),t._v(" "),a("datepicker",{attrs:{"default-value":t.today,type:"date",placeholder:"start date","value-type":"format",format:"DD-MM-YYYY"},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}})],1),t._v(" "),a("b-button",{staticClass:"ms-1",attrs:{variant:"primary"},on:{click:t.filterByDate}},[t._v("Filter")])],1)],1)],1),t._v(" "),a("datatable",{attrs:{searchColumn:t.searchColumns,data:t.rental_history,fields:t.fields}})],1),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(){t.$router.push("/app/reports")}}},[t._v("Back to reports menu")]),t._v(" "),a("button",{staticClass:"btn btn-outline-success",on:{click:function(e){return e.preventDefault(),t.exportToExcel(e)}}},[t._v("Export to Excel")])],1)],1)],1)},s=[],o=a("268a"),n=a("ec45"),l=(a("411c"),a("2b47")),i=a("cee4"),d=a("25ca"),c={components:{datatable:o["a"],datepicker:n["a"]},data:function(){return{rental_history:[],searchColumns:["rented_out","vehicle","customer","returned"],fields:[{name:"rented_out",sortField:"rented_out",title:"Rented Out",titleClass:"",dataClass:"muted-text",width:"20%"},{name:"vehicle",sortField:"vehicle",title:"Vehicle",titleClass:"",dataClass:"muted-text",width:"20%"},{name:"customer",sortField:"customer",title:"Customer",titleClass:"",dataClass:"muted-text",width:"20%"},{name:"returned",sortField:"returned",title:"Returned",titleClass:"",dataClass:"muted-text",width:"20%"}],form:{start_date:"",end_date:""}}},methods:{filterByDate:function(){var t=this;i["a"].get(l["a"]+"/reports/rental_history",{headers:{Authorization:"Bearer "+localStorage.getItem("token")},params:{start_date:this.form.start_date,end_date:this.form.end_date}}).then((function(e){t.rental_history=e.data}))},exportToExcel:function(){var t=d["a"].json_to_sheet(this.rental_history),e=d["a"].book_new();d["a"].book_append_sheet(e,t,"Data"),Object(d["b"])(e,"scvr_van_rental_history.xlsx")},get_rental_history:function(){var t=this;i["a"].get("".concat(l["a"],"/reports/rental_history"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){t.rental_history=e.data}))}},mounted:function(){this.get_rental_history(),null!==localStorage.getItem("token")?this.$store.commit("setUser",JSON.parse(localStorage.getItem("user"))):this.$router.push("/user/login")}},u=c,m=a("2877"),_=Object(m["a"])(u,r,s,!1,null,null,null);e["default"]=_.exports}}]);